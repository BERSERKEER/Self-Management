<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Probar Login API</title>
</head>

<body>
    <h2>Probar Login (API)</h2>
    <form id="loginForm">
        <label>Correo:</label><br>
        <input type="email" name="correo" required><br>
        <label>Contraseña:</label><br>
        <input type="password" name="password" required><br><br>
        <button type="submit">Iniciar sesión</button>
    </form>

    <pre id="response"></pre>

    <script>
        document.getElementById('loginForm').addEventListener('submit', function (e) {
            e.preventDefault();

            const correo = this.correo.value;
            const password = this.password.value;

            fetch('http://localhost/Self-Management/API/login.php', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ correo, password })
            })
                .then(res => res.json())
                .then(data => {
                    document.getElementById('response').textContent = JSON.stringify(data, null, 2);
                })
                .catch(err => {
                    document.getElementById('response').textContent = 'Error: ' + err;
                });
        });
    </script>
</body>

</html>